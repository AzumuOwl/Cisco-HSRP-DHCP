# Cisco-HSRP-DHCP
‚úÖ ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?
HSRP (Hot Standby Router Protocol):
‡πÇ‡∏õ‡∏£‡πÇ‡∏ï‡∏Ñ‡∏≠‡∏•‡∏Ç‡∏≠‡∏á Cisco ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏≥ Virtual Gateway ‡πÇ‡∏î‡∏¢‡∏°‡∏µ router ‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô Active ‡∏≠‡∏µ‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏õ‡πá‡∏ô Standby ‡πÅ‡∏•‡∏∞‡∏°‡∏µ IP ‡πÄ‡∏™‡∏°‡∏∑‡∏≠‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô

Track:
‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á interface ‡∏´‡∏£‡∏∑‡∏≠ route ‡∏´‡∏≤‡∏Å‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß‡∏à‡∏∞ ‡∏•‡∏î Priority ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ router ‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô Active ‡πÅ‡∏ó‡∏ô

DHCP Server:
‡πÉ‡∏ä‡πâ‡πÅ‡∏à‡∏Å IP address ‡πÅ‡∏•‡∏∞ Default Gateway ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

üéØ ‡∏à‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ô‡∏µ‡πâ
‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö Gateway ‡∏™‡∏≥‡∏£‡∏≠‡∏á: ‡∏ñ‡πâ‡∏≤ Router ‡πÅ‡∏£‡∏Å‡∏•‡πà‡∏° Router ‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏à‡∏∞‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
‡πÉ‡∏ä‡πâ track ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ interface ‡∏à‡∏£‡∏¥‡∏á (‡πÄ‡∏ä‡πà‡∏ô g0/0) ‡∏ñ‡πâ‡∏≤‡∏•‡πà‡∏° ‡∏à‡∏∞‡∏•‡∏î priority ‡∏Ç‡∏≠‡∏á Router ‡∏ô‡∏±‡πâ‡∏ô‡∏•‡∏á
‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô VLAN10 ‡∏£‡∏±‡∏ö IP address ‡πÅ‡∏•‡∏∞ default gateway (192.168.1.1) ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

‚ö†Ô∏è ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
‡∏ó‡∏±‡πâ‡∏á 2 router ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô network/subnet ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô (‡πÄ‡∏ä‡πà‡∏ô 192.168.10.0/24)
‡πÉ‡∏ä‡πâ standby 10 ip 192.168.10.1 ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô = IP ‡πÄ‡∏™‡∏°‡∏∑‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á Gateway
‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏°‡∏µ priority ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô Active (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏•‡∏î priority ‡∏à‡∏≤‡∏Å track)
‡∏ñ‡πâ‡∏≤ interface ‡∏ó‡∏µ‡πà track ‡∏≠‡∏¢‡∏π‡πà down, priority ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏•‡∏î‡∏•‡∏á (decrement 30)

üõ†Ô∏è ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á
‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á Gateway ‡πÅ‡∏°‡πâ‡∏à‡∏∞‡∏°‡∏µ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ï‡∏±‡∏ß‡πÉ‡∏î‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏•‡πâ‡∏°
‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö DHCP server ‡∏ö‡∏ô router ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö Default Gateway ‡πÄ‡∏õ‡πá‡∏ô IP ‡πÄ‡∏™‡∏°‡∏∑‡∏≠‡∏ô

üîó ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
--------------------------
       [PC Users]
            |
         [Switch]
         /      \
      [Router1] [Router2]
      192.168.10.2  192.168.10.3
          |             |
       track g0/0    track g0/0

--------------------------
‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≠‡∏á Router ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö Switch ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
Router1 ‡∏°‡∏µ Priority ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ Router2
‡∏ñ‡πâ‡∏≤ Router1 interface g0/0 ‡∏•‡πà‡∏° -> Priority ‡∏ñ‡∏π‡∏Å‡∏•‡∏î‡∏•‡∏á 30 -> Router2 ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô Active ‡πÅ‡∏ó‡∏ô

üìà ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
IP ‡πÄ‡∏™‡∏°‡∏∑‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á Gateway ‡∏Ñ‡∏∑‡∏≠ 192.168.10.1
‡∏ñ‡πâ‡∏≤ interface g0/0 ‡∏Ç‡∏≠‡∏á Router1 ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ:
Router1 ‡πÄ‡∏õ‡πá‡∏ô Active Gateway
‡∏ñ‡πâ‡∏≤ interface g0/0 ‡∏Ç‡∏≠‡∏á Router1 ‡∏•‡πà‡∏°:
Router1 Priority = 100 - 30 = 70 < Router2 (80) -> Router2 ‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô Active Gateway
DHCP ‡πÅ‡∏à‡∏Å IP ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà 192.168.1.11 - 192.168.1.254
Default Gateway ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ç‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö DHCP ‡∏Ñ‡∏∑‡∏≠ 192.168.1.1

üß† ‡∏™‡∏£‡∏∏‡∏õ
| ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£              | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î                                                      |
| ------------------- | --------------------------------------------------------------- |
| ‡πÇ‡∏õ‡∏£‡πÇ‡∏ï‡∏Ñ‡∏≠‡∏•            | HSRP (‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà 10)                                              |
| Virtual IP          | 192.168.10.1                                                    |
| Router ‡∏à‡∏£‡∏¥‡∏á         | 192.168.10.2, 192.168.10.3                                      |
| DHCP                | ‡πÅ‡∏à‡∏Å IP 192.168.1.11‚Äì254, Default Gateway: 192.168.1.1           |
| Tracking            | ‡πÉ‡∏ä‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ interface g0/0                                     |
| Priority & Failover | Router1 Priority 100 - 30 (‡∏ñ‡πâ‡∏≤ down) = 70 < Router2 Priority 80 |
| ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå            | Redundancy + Failover + DHCP ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥                          |
